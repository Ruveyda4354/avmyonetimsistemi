@model VeriTabaniProje.Models.Magaza

@{
	var urunListesi = Model.Urunnos.ToList();
	var elemanListesi = Model.Magazaelemanis.ToList();
}

@section Styles {
	<link rel="stylesheet" href="/css/kat.css" />
}

<div class="kat-background">
	<div class="d-flex justify-content-between w-100">
		<h2>Magaza Ekle</h2>
		<a asp-action="Index" class="btn btn-secondary mt-1">Geri</a>
	</div>

	@if (TempData["Error"] != null)
	{
		<div class="alert alert-danger">@TempData["Error"]</div>
	}

	<div class="main-content w-100" style="padding-top:20px;">
		<div class="w-100 container">

			<form asp-action="Create" method="post">
				<input type="hidden" asp-for="Magazano" />

				<table class="table table-striped table-dark border align-middle">
					<thead>
						<tr class="text-center">
							<th>Kat No</th>
							<th>Magaza Adı</th>
							<th>Magaza Sahibi</th>
							<th>Magaza Müdürü</th>
							<th>Gelir</th>
							<th>Gider</th>
							<th>Elemanlar</th>
							<th>Ürün-Stok</th>
							<th></th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>
								<select asp-for="Katno" class="form-select text-center" required>
									<option value="">Seç</option>
									<option value="0">0</option>
									<option value="1">1</option>
									<option value="2">2</option>
								</select>
							</td>

							<td>
								<input asp-for="Adi" class="form-control text-center" placeholder="Mağaza Adı"
									required />
							</td>
							<td>
								<div>
									<input asp-for="MagazasahibinoNavigation.Adi"
										class="form-control form-control-sm mb-1" placeholder="Adı" required />
									<input asp-for="MagazasahibinoNavigation.Soyadi"
										class="form-control form-control-sm" placeholder="Soyadı" required />
								</div>
							</td>
							<td>

								<div class="mb-2">
									<input asp-for="MagazamudurunoNavigation.Adi"
										class="form-control form-control-sm mb-1" placeholder="Adı" required />
									<input asp-for="MagazamudurunoNavigation.Soyadi"
										class="form-control form-control-sm" placeholder="Soyadı" required />
								</div>

							</td>

							<td>
								<input asp-for="Gelir.Gelirmiktari" type="number" class="form-control mb-2"
									placeholder="Gelir" />
							</td>
							<td>
								<input asp-for="Gider.Gidermiktari" type="number" class="form-control"
									placeholder="Gider" />
							</td>
							<td>
								@for (int i = 0; i < 5; i++)
								{
									<div class="input-group input-group-sm mb-1">
										<span class="input-group-text">@(i + 1)</span>
										<input name="Magazaelemanis[@i].Adi" value="@elemanListesi[i].Adi"
											class="form-control" placeholder="Ad" />
										<input name="Magazaelemanis[@i].Soyadi" value="@elemanListesi[i].Soyadi"
											class="form-control" placeholder="Soyad" />
									</div>
								}
							</td>

							<td>
								@for (int i = 0; i < 5; i++)
								{
									<div class="input-group input-group-sm mb-1">
										<span class="input-group-text">@(i + 1)</span>
										<input name="Urunnos[@i].Adi" value="@urunListesi[i].Adi" class="form-control"
											placeholder="Ürün Adı" style="width: 40%;" />
										<input name="Urunnos[@i].Stok" value="@urunListesi[i].Stok" type="number"
											class="form-control" placeholder="Stok" />
									</div>
								}
							</td>

							<td class="text-center">
								<button type="submit" class="btn btn-success btn-lg">
									<i class="bi bi-check-circle"></i><br>Kaydet
								</button>
							</td>
						</tr>
					</tbody>
				</table>

			</form>
		</div>
	</div>
</div>